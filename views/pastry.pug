extends layout

block content
  h1= title
  - let pastries = results
  button.btn(class="btn-secondary ml-1", onclick= `dispatch(\"/pastry/create")`) Create
  
  div(class="container-fluid")
    div(class="row m-1")
        each items, index in pastries
            div(class='card-text', style='font-family: "Lucida Console", "Courier New", monospace;color:purple') Item #{items.pastry_flavour}(#{items.calories}) is #{items.pastry_shape}
            button.btn(class="btn-primary", style="margin: 5px; width: 130px;" onclick=`dispatch(\"/pastry/detail?id=${items._id}\")`) View
            button.btn(class="btn-info ml-1", style="margin: 5px; width: 130px;" onclick=`dispatch(\"/pastry/update?id=${items._id}\")`) Update 
            button.btn(class="btn-warning ml-1", style="margin: 5px; width: 130px;" onclick= `dispatch(\"/pastry/delete?id=${items._id}\")`) Delete
  
  script.
    function buy(index){
         alert("you purchased item "+(index+1))
    }
    function dispatch(path){ 
      window.location.href=path 
    } 

   
 
  